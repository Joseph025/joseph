#!/bin/bash

sparrow --master yarn --num-executors 8  --executor-cores 4 --executor-memory 32g --driver-memory 8g --driver-cores 4 --conf spark.driver.maxResultSize=0 -e "

create table if not exists quality_carbon.carbon_landing_defectmain_tmp(DefectID string,
DefectNO string,
CopyFrom string,
SignificantInheritID string,
IsSignificant string,
CriticalDefectInterfaceManID string,
NotesLink string,
ReleaseID string,
BaseLineID string,
SubFearureID string,
ModuleVersionID string,
FindPeriod string,
ODCActivity string,
ODCTrigger string,
ODCSeverity string,
ODCImpact string,
FindDegree string,
EmergentDegree string,
Repeatable string,
TestNO string,
ResolvePRI string,
IfLeak string,
LeakReason string,
ODCTargetLittleLevel string,
ODCDefectType string,
ODCDefectContentType string,
DutyDeptID string,
Team string,
ODCDefectQualifier string,
SourceDefectNO string,
ODC_Source string,
ODCAge string,
BaselineLeadinto string,
CauseReason string,
NeedSync string,
IfPartFailure string,
PartFailureReason string,
PartFailureType string,
IfPartRelated string,
PartID string,
PartBatch string,
PartQuantity string,
SolutionVerifier string,
ModifyVerifier string,
DefactModifier string,
Summery string,
OriginType string,
QResolveVersion string,
SubmitBy string,
SubmitDate timestamp,
DiscoveryDate timestamp,
IsDuplicated string,
DupLink string,
ReportQuality string,
CheckInMergeReleaseID string,
CheckInMergeBaseLineID string,
PlanMergeReleaseID string,
PlanMergeBaseLineID string,
TestReleaseID string,
TestBaseLineID string,
LastResult string,
LastModificationDate timestamp,
CreationDate timestamp,
Creator string,
ModificationDate timestamp,
Modifier string,
DeleteFlag int,
DefectType string,
HPAlmID string,
HPStatus string,
HPCommentID string,
IfAffectVersion string,
IfISSU string,
FeatureChangeType string,
If_Transplant string,
TransplantReason string,
BatchCopyFromNo string,
OtherReason string,
RequiredSolveDate timestamp,
ProgressRemark string,
operation_type string,
lastupdate_timestamp timestamp) ;

create table if not exists quality_carbon.carbon_landing_defectprocessflow_tmp(defectprocessflowid string,
defectid string,
workflowinstanceid string,
oldtracknumber string,
reader string,
currentperson string,
currentpersonkind string,
currentnode string,
status string,
suspendreason string,
lastprocessed timestamp,
momo string,
submittodevdate timestamp,
testdate timestamp,
testpassed string,
closedcycle int,
testfailedtimes int,
testerreturnreason string,
creationdate timestamp,
creator string,
modificationdate timestamp,
modifier string,
deleteflag int,
tmapprovetime timestamp,
positiontime timestamp,
pmapprovetime timestamp,
designtime timestamp,
solutionreviewtime timestamp,
cmoauthorizedtime timestamp,
defectmodifiedtime timestamp,
modifiedreviewtime timestamp,
cmoarchivetime timestamp,
testarrangedtime timestamp,
testtime timestamp,
confirmtime timestamp,
modifyauthorizedby string,
archiveby string,
testmanager string,
testby string,
modifyfilesid string,
currentpersonextra string,
readers string,
synchronousgroupname string,
operation_type string,
lastupdate_timestamp timestamp);

create table if not exists quality_carbon.carbon_landing_workflowtask_tmp(workflowtaskid string,
workflowinstanceid string,
nodename string,
nodecode string,
owner string,
currentownerkind string,
previoustaskid string,
state string,
creationdate timestamp,
creator string,
modificationdate timestamp,
modifier string,
deleteflag int,
operation_type string,
lastupdate_timestamp timestamp);

create table if not exists quality_carbon.carbon_landing_workflowrecord_tmp(workflowrecordid string,
workflowtaskid string,
remarks string,
comments string,
workflowtransitionid string,
cc string,
ccgroup string,
ccall string,
timeapproved timestamp,
approver string,
nextapprover string,
version string,
status string,
txtext1 string,
txtext2 string,
txtext3 string,
txtext4 string,
txtext5 string,
txtext6 string,
txtext7 string,
dateext1 timestamp,
rtxtext1 string,
rtxtext2 string,
creationdate timestamp,
creator string,
modificationdate timestamp,
modifier string,
deleteflag int,
operation_type string,
lastupdate_timestamp timestamp);
"

echo "tmp table successfully!"
exit 0

